# Sistema de Atendimento - ClÃ­nica OdontolÃ³gica

## ğŸ“Œ ApresentaÃ§Ã£o do Projeto Integrador - Etapa 1 (Foco Back-End) 

## ğŸ“Œ Link do VÃ­deo de apresentaÃ§Ã£o: https://youtu.be/MfnLnJlE7F0

Este projeto Ã© um sistema de gestÃ£o de clÃ­nica odontolÃ³gica desenvolvido em **Laravel 10**, utilizando **Eloquent ORM**, autenticaÃ§Ã£o com **Laravel Breeze/Sanctum** e testes automatizados.

---

## ğŸ—„ï¸ Modelagem de Dados
O sistema Ã© baseado em trÃªs entidades principais:

- **Pacientes**
  - Nome, telefone, e-mail, data de nascimento
- **Dentistas**
  - Nome, especialidade, telefone, e-mail
- **Atendimentos**
  - Relacionado a um paciente e um dentista
  - Data do atendimento, descriÃ§Ã£o, status (Agendado, ConcluÃ­do, Cancelado)

### Relacionamentos
- Um **Paciente** pode ter vÃ¡rios **Atendimentos**
- Um **Dentista** pode realizar vÃ¡rios **Atendimentos**
- Cada **Atendimento** pertence a **um Paciente** e **um Dentista**

---

## ğŸ“‚ Estrutura do Projeto
O projeto segue a estrutura padrÃ£o do Laravel:

- **Controllers:** `app/Http/Controllers`
- **Models:** `app/Models`
- **Requests (validaÃ§Ã£o):** `app/Http/Requests`
- **Migrations e Seeders:** `database/migrations`, `database/seeders`
- **Testes Automatizados:** `tests/Feature` e `tests/Unit`
- **Rotas API:** `routes/api.php`

## PadrÃµes de Projeto (adicionado)


Este repositÃ³rio recebeu pequenas refatoraÃ§Ãµes para demonstrar a aplicaÃ§Ã£o de padrÃµes de projeto e princÃ­pios SOLID:


- **Factory Method**: `App\Services\AtendimentoFactory` â€” centraliza a criaÃ§Ã£o de objetos `Atendimento` (facilita criaÃ§Ã£o de tipos diferentes e segue OCP).


- **Strategy**: `App\Strategies\SchedulingStrategyInterface` com implementaÃ§Ãµes `NoOverlapSchedulingStrategy` e `SimpleSchedulingStrategy` â€” permite trocar a regra de agendamento sem alterar a lÃ³gica de criaÃ§Ã£o (DIP, OCP).


- **CQRS (inicial)**: comandos (`App\Commands\CreateAtendimentoCommand`) e queries (`App\Queries\GetAtendimentosQuery`) com handlers â€” separaÃ§Ã£o entre escrita e leitura, facilitando testes e evoluÃ§Ãµes futuras.


- **InjeÃ§Ã£o de DependÃªncia**: registramos `App\Providers\PatternServiceProvider` que faz o binding das estratÃ©gias e handlers, reduzindo acoplamento e favorecendo testes.


As mudanÃ§as foram feitas com foco em clareza pedagÃ³gica e baixo impacto na arquitetura atual do projeto.

---

## ğŸš€ Como Executar

### 1. Clonar o repositÃ³rio
```bash
git clone https://github.com/cumbuca13/Entrega-Parcial-1-Modelagem-Estrutura-e-Migra-es.git
cd Entrega-Parcial-1-Modelagem-Estrutura-e-Migra-es
2. Instalar dependÃªncias
bash
Copiar cÃ³digo
composer install
npm install && npm run build
3. Configurar o .env
Copie o arquivo de exemplo:

bash
Copiar cÃ³digo
cp .env.example .env
Edite as credenciais do banco:

env
Copiar cÃ³digo
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=laravel
DB_USERNAME=root
DB_PASSWORD=
4. Gerar chave da aplicaÃ§Ã£o
bash
Copiar cÃ³digo
php artisan key:generate
5. Rodar migrations e seeders
bash
Copiar cÃ³digo
php artisan migrate:fresh --seed
6. Rodar servidor local
bash
Copiar cÃ³digo
php artisan serve
Acesse: http://127.0.0.1:8000

âœ… Testes Automatizados
Para rodar os testes unitÃ¡rios e de feature:

bash
Copiar cÃ³digo
php artisan test
Exemplos de testes incluÃ­dos:

ValidaÃ§Ã£o de e-mail (UnitÃ¡rio)

CriaÃ§Ã£o de Pacientes via API

CriaÃ§Ã£o de Dentistas via API

CriaÃ§Ã£o de Atendimentos via API (com relacionamento Paciente/Dentista)

ğŸ“Œ Endpoints Principais (API)
Todas as rotas estÃ£o protegidas por auth:sanctum.

POST /register â†’ Registrar usuÃ¡rio

POST /login â†’ Login e geraÃ§Ã£o de token

GET /pacientes â†’ Listar pacientes

POST /pacientes â†’ Criar paciente

GET /dentistas â†’ Listar dentistas

POST /dentistas â†’ Criar dentista

GET /atendimentos â†’ Listar atendimentos (com paciente e dentista)

POST /atendimentos â†’ Criar atendimento

ğŸ‘¨â€ğŸ’» Tecnologias Utilizadas
PHP 8.x

Laravel 10

MySQL

Laravel Breeze + Sanctum

PHPUnit
